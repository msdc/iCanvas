/*@author Mingli Guo (guomilo@gmail.com)
 * @Date 2014-03-12 
 */
define("src/tools/util",[],function(){function a(a){var b=typeof a;return"object"==b?(b=Object.prototype.toString.call(a),b.replace(/^\[object\s*/gi,"").replace(/\]$/,"").toLowerCase()):b.toLocaleLowerCase()}function b(b){return"number"==a(b)}function c(b){return"boolean"==a(b)}function d(b){return"function"==a(b)}function e(b){var c=a(b);return"undefined"==c||"null"==c}function f(b){return"array"==a(b)}function g(a){var b;for(b in a)return!1;return!0}function h(b){return"object"==typeof b&&"object"==a(b)}function i(b){return"string"==a(b)}function j(b){return k(b)&&"htmlcanvaselement"==a(b)}function k(b){return a(b).search(/^html[a-z]*?element$/)>=0}function l(b){return a(b).search(/^svg[a-z]*?element$/)>=0}function m(b){return a(b).search(/^svgsvgelement$/)>=0}function n(b){var c,d=Array.prototype.slice.call(arguments,1);if("undefined"!=a(d)&&0!=d.length){"create"in Object||(Object.create=function(a){function b(){}return b.prototype=a,new b});for(var e,f=0;e=d[f];f++){c=Object.create(e.prototype),c.constructor=b;for(var g in c)b.prototype[g]=c[g]}}}function o(a){var b,c,d={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1},e=a;if(!a||a instanceof Number||a instanceof String||a instanceof Boolean)return e;if(a instanceof Array){e=[];var f=0;for(b=0,c=a.length;c>b;b++)e[f++]=this.clone(a[b])}else if("object"==typeof a){if(d[Object.prototype.toString.call(a)]||a.__nonRecursion)return e;e={};for(b in a)a.hasOwnProperty(b)&&(e[b]=this.clone(a[b]))}return e}function p(b,c,d){for(var c,e,b=arguments[0]||{},g=1,h=arguments.length;h>g;g++)if(null!=(c=arguments[g]))for(e in c)if(d&&!f(c[e])&&"object"==a(c[e]))b[e]=arguments.callee(b[e],c[e]);else if(d&&f(c[e]))if(e in b)if(f(b[e]))b[e]=b[e].concat(c[e]);else{var i=[];b[e]=i.concat(b[e]).concat(c[e])}else b[e]=c[e];else b[e]=d&&f(b[e])?b[e].concat(c[e]):c[e];return b}function q(a,b){return d(a)&&!e(b)?a.bind(b):a}function r(){function a(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return(a()+a()+"-"+a()+"-4"+a().substr(0,3)+"-"+a()+"-"+a()+a()+a()).toLowerCase()}var s=function(){return window.getComputedStyle?function(a){return k(a)?window.getComputedStyle(a):l(a)?a:a.style||a}:function(a){return k(a)?a.currentStyle:l(a)?a:a.style||a}}(),t=function(){return"createEvent"in document?function(a,b,c){var d=document.createEvent("Event");d.initEvent(a,!0,!0);for(var e in c)d[e]=c[e];b.dispatchEvent(d)}:function(a,b,c){var d=document.createEventObject();for(var e in c)d[e]=c[e];b.fireEvent(a,d)}}();return"bind"in Function||(Function.prototype.bind=function(){var a=Array.prototype.slice.call(arguments),b=a.shift(),c=this;return function(){return c.apply(b,a.concat(Array.prototype.slice.call(arguments)))}}),{getType:a,isFunction:d,isString:i,isNumber:b,isUndefined:e,isObject:h,isArray:f,isBool:c,isEmptyOrNullObject:g,isCanvas:j,isHtmlElement:k,isSvgElement:l,isSvg:m,getStyles:s,inheritPrototype:n,clone:o,extend:p,bind:q,newId:r,fireCustomEvent:t}});